************************
Fitting the SHMS Optics 
************************

**Plotting (shms_cal_delta - shms_meas_delta) vs. SHMS focal plane quantities,
there appears to be correlations across the focal plane. To remove these
correlations, a 5-D fit of xfp, yfp, xpfp, ypfp and P_cent need to be done
on the data. Before this fit is done, a TGraphical Cut needs to be applied on 
each of the correlations observed, to select only those events of interest.


Apply Graphical Cuts:
** Run the code: set_cuts.C  (May need to be modified)

This code reads in the histogram objects (created by calc_pElec_PDiff_v2.C) and the user can 
make polygon cuts on the graph. This graphs are stored as  ' *_cut.root* ' which are then read 
by the code fitOptics.C  


Code: fitOptics.C 

Description: This code calculates the (delta_calc - delta_meas) vs. focal plane times and
other relevant quatities. The idea is to apply the TGraphical cuts on an event by event basis,
and then write the code to fit the matrix inside the event loop.  



Optics matrix format:
                                                                 
0.277714223    -0.046726452    0.0303003269     0.667153399 00000

                                          0    1      0    0     0 
The five digits to the right represent:  xfp, x'fp,  yfp, y'fp, xtar

The 0: means the term is raied to the zero power
The 1: means the term is raied to the 1st  power
and so on . . .

So the delta can be expressed as: 
delta =  xfp^0 + xpfp^1 +yfp^0 + ypfp^0 + xtar^0